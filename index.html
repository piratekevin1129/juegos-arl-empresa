<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
   
    <!--Jquery-->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" crossorigin="anonymous"></script>
    
    <!--Estilos propios-->
    <link href="assets/css/fonts.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/reset.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/master.css" rel="stylesheet" type="text/css" />
    <!--<link href="assets/css/responsive.css" rel="stylesheet" type="text/css" />-->

    <!--Libreria spider-->
    <link rel="stylesheet" type="text/css" href="assets/spider/sprites/sprite.css" />
    <link rel="stylesheet" type="text/css" href="assets/spider/sprites/fotograma.css" />
    <title>Empresa</title>
</head>
<body>
    <div id="container">
        <header>
            <div class="row row-header1">
                <div class="logo-sura">
                </div>
                <div class="titulo">
                    <h1><span>Módulos Interactivos:</span> Prevención de Riesgos</h1>
                </div>
            </div>
            <div class="row row-header2">
                <div class="logo-arl"></div>
                <div id="oficio-title">
                    <h2 id="oficio-title-txt"></h2>
                </div>
            </div>
        </header>

        <div id="game">
        	<div id="game-scene">
        		<div id="piso-container">
        			<div id="piso"></div>
        			<div id="paredes"></div>
	        		<!--<div id="puertas"></div>
	        		<div id="elementos"></div>-->
        		</div>
        		
        		<div id="avatar">
        			<div id="avatar-clip" class="spd_sprite" width="30" height="28" frames="13" src="assets/images/avatar_sprite.png"></div>
        			<div id="mensaje" class="mensaje-off"></div>
        		</div>
        		
        		<div id="contenedor-item" class="contenedor-item-off">
        			<div class="contenedor-item-img"></div>
        			<h1 id="contenedor-item-title"></h1>
        			<div id="contenedor-item-content">
        				<div id="llave-animada" class="spd_sprite" width="182" height="240" frames="21" src="assets/images/llave_animada_sprite.png"></div>
        				<div id="premio-animado" class="spd_sprite" width="220" height="248" frames="21" src="assets/images/premio_animado_sprite.png"></div>
        			</div>
        			<p id="contenedor-item-msg"></p>
        		</div>
                <div id="contenedor-peliculas" style="display: none">
                    <video id="pelicula"></video>
                    <div id="contenedor-peliculas-alfa"></div>
                    <div id="contenedor-peliculas-cargador"></div>
                </div>
                <div id="contenedor-preguntas" style="display: none">
                    <div id="contenedor-preguntas-iframe">
                        <div id="contenedor-preguntas-1" class="contenedor-preguntas-hidden">
                            <div class="contenedor-preguntas-fondo"></div>
                            <div class="burbuja-texto burbuja-texto-off" id="burbuja-texto-pregunta1"></div>
                        </div>

                        <div id="contenedor-preguntas-2" class="contenedor-preguntas-hidden">
                            <div class="contenedor-preguntas-fondo"></div>
                            <div class="burbuja-texto-big burbuja-texto-off" id="burbuja-texto-pregunta2"></div>
                            <div id="opcion-a">
                                <div id="opcion-a-pregunta" class="spd_sprite" width="188" height="255" frames="15" src="assets/images/pregunta2/opcion_a_sprite.png"></div>
                                <div id="opcion_a_btn"></div>
                            </div>
                            <div id="opcion-b">
                                <div id="opcion-b-pregunta" class="spd_sprite" width="290" height="260" frames="15" src="assets/images/pregunta2/opcion_b_sprite.png"></div>
                                <div id="opcion_b_btn"></div>
                            </div>
                        </div>

                        <div id="contenedor-preguntas-3" class="contenedor-preguntas-hidden">
                            <div class="contenedor-preguntas-fondo"></div>
                            <div class="burbuja-texto-big burbuja-texto-off" id="burbuja-texto-pregunta3"></div>
                        </div>

                        <div id="contenedor-preguntas-4" class="contenedor-preguntas-hidden">
                            <div class="contenedor-preguntas-fondo"></div>
                            <div class="burbuja-texto-big burbuja-texto-off" id="burbuja-texto-pregunta4"></div>
                        </div>

                        <div id="contenedor-preguntas-5" class="contenedor-preguntas-hidden">
                            <div class="contenedor-preguntas-video">
                                <video id="contenedor-preguntas-video-5"></video>
                            </div>
                            <div id="alarma-pregunta-5">
                                <div id="alarma" class="spd_sprite" width="130" height="90" frames="11" src="assets/images/pregunta5/sirena_sprite.png"></div>
                                <div id="alarma_btn"></div>
                            </div>
                            <div class="burbuja-texto-big burbuja-texto-off" id="burbuja-texto-pregunta5"></div>
                        </div>

                        <div id="contenedor-preguntas-6" class="contenedor-preguntas-hidden">
                            <div class="contenedor-preguntas-fondo"></div>
                            <div class="burbuja-texto-big burbuja-texto-off" id="burbuja-texto-pregunta6"></div>
                        </div>
                    </div>
                    
                    <div id="ruleta">
                        <div id="ruleta-img"></div>
                        <div id="ruleta-pointer"></div>
                    </div>

                    <div id="contenedor-carta" class="contenedor-carta-off">
                        <div id="carta-wrap">
                            <div id="carta">
                                <div class="carta-enunciado">
                                    <p>Hola</p>
                                </div>
                                <div class="carta-respuestas">
                                    <div class="carta-respuesta" onclick="clickRespuesta(1)">
                                        <p><span>A)</span>Respuesta 1</p>
                                    </div>
                                    <div class="carta-respuesta" onclick="clickRespuesta(1)">
                                        <p><span>B)</span>Respuesta 2</p>
                                    </div>
                                    <div class="carta-respuesta" onclick="clickRespuesta(1)">
                                        <p><span>C)</span>Respuesta 3</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="contenedor-preguntas-alfa"></div>
                </div>

        	</div>
        	<div id="home-scene">
        		<div class="fondo">
        			<div class="cielo"></div>
        			<div class="nubes"></div>
        		</div>
                <div id="personaje-home" class="personaje-1"><div class="personaje-ojos"></div></div>
            </div>
        </div>

        <div id="modal" class="modal-on">
            <div id="modal-box">
                <button id="modal-close-btn"></button>
                <h2 id="modal-title">Instrucciones</h2>
                <div id="modal-content">
                </div>
                <button id="modal-button">jugar</button>
            </div>
        </div>

        <div id="focus-msg" class="focus-off" onclick="focusOn()">
        	<p>Haz clic para continuar con el juego</p>
        </div>
        <div id="cargador" class="cargador-on">
            <div class="cargador-img"></div>
            <div class="cargador-txt">Cargando...</div>
        </div>
    </div>

<script src="assets/spider/sprites/sprite.js"></script>
<script src="assets/spider/sprites/fotograma.js"></script>

<script src="assets/data.js"></script>
<script src="assets/js/paredes.js"></script>
<script src="assets/js/mobile.js"></script>
<script src="assets/js/modal.js"></script>
<script src="assets/js/game.js"></script>
<script>

var underground_mp3 = null
var boton_mp3 = null

var animation_start = null
window.onload = function(){
	loadAudio({src:'assets/media/boton.mp3',callBack:function(data){
	boton_mp3 = data
    loadAudio({src:'assets/media/underground.mp3',callBack:function(data){
    underground_mp3 = data
    underground_mp3.addEventListener('ended',function(){underground_mp3.play()},false)

	    //cargar sprites del avatar, la llave y el premio
	    spdLoadSprite({idname:'avatar-clip',autoplay:'off',callBack:function(){	
		spdLoadSprite({idname:'llave-animada',autoplay:'off',callBack:function(){
		spdLoadSprite({idname:'premio-animado',autoplay:'off',callBack:function(){

            //sprites de preguntas 3 y 5
            spdLoadSprite({idname:'opcion-a-pregunta',autoplay:'off',callBack:function(){
            spdLoadSprite({idname:'opcion-b-pregunta',autoplay:'off',callBack:function(){
            spdLoadSprite({idname:'alarma',autoplay:'off',callBack:function(){

    			spdCreateAnimation({id:0,sprite:'avatar-clip'})
    			spdCreateAnimation({id:1,sprite:'llave-animada'})
    			spdCreateAnimation({id:2,sprite:'premio-animado'})

                spdCreateAnimation({id:3,sprite:'opcion-a-pregunta'})
                spdCreateAnimation({id:4,sprite:'opcion-b-pregunta'})
                spdCreateAnimation({id:5,sprite:'alarma'})

    			prepareWindow()
    	        setGame()

            }})
            }})
            }})
		}})
		}})
		}})

    }})
    }})
}
    
</script>

</body>
</html>